<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <title>Web VR with HTML5</title>
</head>

<body style="margin:0px">
<div id="container" style="width:100%;height:100%;display:block">
    <video id="video" src="360.mp4" controls webkit-playsinline playsinline></video>
</div>
<script src="three.js"></script>
<script src="main.js"></script>
<script>
    var container = document.getElementById('container');
    var width = container.clientWidth;
    var height = container.clientHeight;

    var video = document.getElementById('video');
    video.width = width;
    video.height = height;
    video.style.position = "absolute";

    function onPlay() {
        var v3d = new Video3D(container);
        v3d.resize(document.body.clientWidth, document.body.clientHeight);
        v3d.play(video);
        if (navigator.userAgent.match(/iPad|iPhone|Android|SymbianOS|Windows Phone/i) == null) {
            new MouseControl(container, v3d);
        } else {
            new OrientationControl(v3d);
        }
    }

    video.addEventListener('play', onPlay, false);
</script>
</body>

</html>
